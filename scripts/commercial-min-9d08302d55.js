"use strict";!function(e){function n(e){e.removeClass("show"),setTimeout(function(){return e.remove()},500)}function a(n,a,t,o,i,r,s){var d="Commercial contact form \n----------------------------------\nDate/time: "+new Date+"\nName: "+a+"\nEMail: "+n+"\nPhone: "+t+"\nCompany: "+o+"\nIndustry: "+i+"\nWebsite: "+s+"\nDescription:\n"+r+"\n\n",l={subject:"[Commercial Contact] By "+a,tags:["web","request","commercial"],via_id:48,comment:{body:d},requester:{name:a,email:n,locale_id:1},fields:{}};return e.ajax({type:"POST",url:"https://openrov.zendesk.com/api/v2/requests.json",data:JSON.stringify({request:l}),dataType:"json",contentType:"application/json",beforeSend:function(e){e.setRequestHeader("Authorization","Basic "+btoa(n+"/token:BO4MEQQtX70i6kDJqFmUb5voRNo8OPs2qcyGISBz"))}})}var t=[];e(".contact-us").click(function(){e("#email").animate({left:0,duration:"slow",complete:function(){return e("#email").focus()}})});var o=(new Waypoint({element:e(".contact-cta").get(0),handler:function(a){"down"==a?(e("body").append('<div class="modal-backdrop cta hidden-sm-down"></div>'),setTimeout(function(){e(".modal-backdrop.cta").addClass("show").click(function(){n(e(this))})},1)):n(e(".modal-backdrop.cta"))},offset:"bottom-in-view"}),e("#form"));o.find("#uniqueId").val((new Date).valueOf()),o.find("#send").on("click",function(e){e.preventDefault();var n=o.find("#uniqueId"),i=n.val();if(!(t.indexOf(i)>=0)){t.push(i),o.find("#email").parent().toggleClass("has-danger",!1),o.find("#phone").parent().toggleClass("has-danger",!1),o.find("#name").parent().toggleClass("has-danger",!1),o.find("#company").parent().toggleClass("has-danger",!1),o.find("#industry").parent().toggleClass("has-danger",!1),o.find("#website").parent().toggleClass("has-danger",!1),o.find("#send").prop("disabled",!0);var r=!1;try{var s=o.find("#email").val();0==s.trim().length&&(o.find("#email").parent().toggleClass("has-danger",!0),r=!0);var d=o.find("#name").val();0==d.trim().length&&(o.find("#name").parent().toggleClass("has-danger",!0),r=!0);var l=o.find("#phone").val(),c=o.find("#company").val(),f=o.find("#industry").val(),u=o.find("#description").val(),m=o.find("#website").val();if(r)return;a(s,d,l,c,f,u,m).done(function(e){alert("Thank you for your contact request. You will hear from us shortly."),o.find("#send").prop("disabled",!1),n.val((new Date).valueOf())}).fail(function(e){alert("Whoops, something went wrong. Please try again later."),o.find("#send").prop("disabled",!1),n.val((new Date).valueOf())})}catch(e){return void console.error(e)}}})}($);