"use strict";window.map={map_type:"ROADMAP",map_zoom:15,map_style:"blackwhite",map_scrollable:"on",marker:"show",label:["OpenROV HQ"],address:"",latlng:["37.864415,-122.300633"],center_latlng:"",markerURL:"../images/content/marker.png",auto_center:!0},jQuery(document).ready(function($){$(".google-map").each(function(){function addMarker(position,index){if("show"===mapData.marker){var image={url:mapData.markerURL,size:new google.maps.Size(30,48),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,48)},marker=new google.maps.Marker({position:position,icon:image,map:map});if(bounds.extend(position),void 0!==mapData.label[index]){var infoWindow=new google.maps.InfoWindow({content:mapData.label[index]});google.maps.event.addListener(marker,"click",function(e){infoWindow.open(map,this)})}}}var mapDiv=$(this),mapData=window[mapDiv.attr("id")],map=function(){var style=[{stylers:[{saturation:-100}]}],options={zoom:parseInt(mapData.map_zoom,10),scrollwheel:!1,draggable:"on"===mapData.map_scrollable,mapTypeId:google.maps.MapTypeId[mapData.map_type]};return"blackwhite"===mapData.map_style&&(options.styles=style),new google.maps.Map(mapDiv[0],options)}(),bounds=new google.maps.LatLngBounds,centerMapWithCoordinates=!mapData.auto_center;if(centerMapWithCoordinates)if(void 0!==mapData.center_latlng){var center_lat_lng=mapData.center_latlng.split(","),center_map=new google.maps.LatLng(center_lat_lng[0],center_lat_lng[1]);map.setCenter(center_map)}else console.log("You have not set any coordinates for the map to be centered at.");if(mapData.address){var markerAddressCount=0;$.each(mapData.address,function(index,address){(new google.maps.Geocoder).geocode({address:address},function(results,status){if(status===google.maps.GeocoderStatus.OK){if(void 0!==results[0]){var location=results[0].geometry.location;addMarker(new google.maps.LatLng(location.lat(),location.lng()),index)}markerAddressCount++,centerMapWithCoordinates||markerAddressCount!==mapData.address.length||map.fitBounds(bounds)}else console.log("Geocode was not successful for the following reason: "+status)})})}else if(void 0!==mapData.latlng){for(var i=0;i<mapData.latlng.length;i++){var coordinates=mapData.latlng[i].split(","),position=new google.maps.LatLng(coordinates[0],coordinates[1]);addMarker(position,i)}centerMapWithCoordinates||map.fitBounds(bounds)}var boundsListener=google.maps.event.addListener(map,"bounds_changed",function(event){this.setZoom(parseInt(mapData.map_zoom,10)),google.maps.event.removeListener(boundsListener)})})});