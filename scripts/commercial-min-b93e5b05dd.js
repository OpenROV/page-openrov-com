"use strict";!function(n){function e(n){n.removeClass("show"),setTimeout(function(){return n.remove()},500)}function a(e,a,t,i,o,r,s){var d="Commercial contact form \n----------------------------------\nDate/time: "+new Date+"\nName: "+a+"\nEMail: "+e+"\nPhone: "+t+"\nCompany: "+i+"\nIndustry: "+o+"\nWebsite: "+s+"\nDescription:\n"+r+"\n\n",l={subject:"[Commercial Contact] By "+a,tags:["web","request","commercial"],via_id:48,comment:{body:d},requester:{name:a,email:e,locale_id:1},fields:{}};return n.ajax({type:"POST",url:"https://openrov.zendesk.com/api/v2/requests.json",data:JSON.stringify({request:l}),dataType:"json",contentType:"application/json",beforeSend:function(n){n.setRequestHeader("Authorization","Basic "+btoa(e+"/token:BO4MEQQtX70i6kDJqFmUb5voRNo8OPs2qcyGISBz"))}})}var t=[];n(".contact-us").click(function(){n("#email").animate({left:0,duration:"slow",complete:function(){return n("#email").focus()}})});var i=(new Waypoint({element:n(".contact-cta").get(0),handler:function(a){"down"==a?(n("body").append('<div class="modal-backdrop cta hidden-sm-down"></div>'),setTimeout(function(){n(".modal-backdrop.cta").addClass("show").click(function(){e(n(this))})},1)):e(n(".modal-backdrop.cta"))},offset:"bottom-in-view"}),n("#form"));i.find("#uniqueId").val((new Date).valueOf()),i.find("#send").on("click",function(n){n.preventDefault();var e=i.find("#uniqueId"),o=e.val();if(!(t.indexOf(o)>=0)){t.push(o),i.find("#email").parent().toggleClass("has-danger",!1),i.find("#phone").parent().toggleClass("has-danger",!1),i.find("#name").parent().toggleClass("has-danger",!1),i.find("#company").parent().toggleClass("has-danger",!1),i.find("#industry").parent().toggleClass("has-danger",!1),i.find("#website").parent().toggleClass("has-danger",!1),i.find("#send").prop("disabled",!0);var r=!1;try{var s=[i.find("#email"),i.find("#name"),i.find("#phone"),i.find("#company"),i.find("#industry"),i.find("#description"),i.find("#website")],d=i.find("#email").val();0==d.trim().length&&(i.find("#email").parent().toggleClass("has-danger",!0),r=!0);var l=i.find("#name").val();0==l.trim().length&&(i.find("#name").parent().toggleClass("has-danger",!0),r=!0);var c=i.find("#phone").val(),f=i.find("#company").val(),u=i.find("#industry").val(),m=i.find("#description").val(),p=i.find("#website").val();if(r)return;a(d,l,c,f,u,m,p).done(function(n){alert("Thank you for your contact request. You will hear from us shortly."),i.find("#send").prop("disabled",!1),e.val((new Date).valueOf()),s.forEach(function(n){return n.val("")})}).fail(function(n){alert("Whoops, something went wrong. Please try again later."),i.find("#send").prop("disabled",!1),e.val((new Date).valueOf())})}catch(n){return void console.error(n)}}})}($);