window.map={map_type:"ROADMAP",map_zoom:15,map_style:"blackwhite",map_scrollable:"on",marker:"show",label:["London Royal","Athens Bistro"],address:"",latlng:["51.511084, -0.133202","51.506623, -0.111916"],center_latlng:"",markerURL:"assets/images/marker.png",auto_center:!0},jQuery(document).ready(function(a){a(".google-map").each(function(){function b(){var a=[{stylers:[{saturation:-100}]}],b={zoom:parseInt(e.map_zoom,10),scrollwheel:!1,draggable:"on"===e.map_scrollable,mapTypeId:google.maps.MapTypeId[e.map_type]};return"blackwhite"===e.map_style&&(b.styles=a),new google.maps.Map(d[0],b)}function c(a,b){if("show"===e.marker){var c={url:e.markerURL,size:new google.maps.Size(30,48),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,48)},d=new google.maps.Marker({position:a,icon:c,map:f});if(g.extend(a),void 0!==e.label[b]){var h=new google.maps.InfoWindow({content:e.label[b]});google.maps.event.addListener(d,"click",function(a){h.open(f,this)})}}}var d=a(this),e=window[d.attr("id")],f=b(),g=new google.maps.LatLngBounds,h=!e.auto_center;if(h)if(void 0!==e.center_latlng){var i=e.center_latlng.split(","),j=new google.maps.LatLng(i[0],i[1]);f.setCenter(j)}else console.log("You have not set any coordinates for the map to be centered at.");if(e.address){var k=0;a.each(e.address,function(a,b){var d=new google.maps.Geocoder;d.geocode({address:b},function(b,d){if(d===google.maps.GeocoderStatus.OK){if(void 0!==b[0]){var i=b[0].geometry.location,j=new google.maps.LatLng(i.lat(),i.lng());c(j,a)}k++,h||k!==e.address.length||f.fitBounds(g)}else console.log("Geocode was not successful for the following reason: "+d)})})}else if(void 0!==e.latlng){for(var l=0;l<e.latlng.length;l++){var m=e.latlng[l].split(","),n=new google.maps.LatLng(m[0],m[1]);c(n,l)}h||f.fitBounds(g)}var o=google.maps.event.addListener(f,"bounds_changed",function(a){this.setZoom(parseInt(e.map_zoom,10)),google.maps.event.removeListener(o)})})});